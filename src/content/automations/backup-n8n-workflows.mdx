---
name: "Backup n8n Workflows to GitHub"
category: "operations-it"
types:
  - "system-monitoring"
  - "data-synchronization"
workflowFile: "/workflows/backup-n8n-workflows.json"
nodes:
  - "Schedule Trigger"
  - "On clicking 'execute'"
  - "Starting Message"
  - "n8n"
  - "Loop Over Items"
  - "Completed Notification"
  - "Execute Workflow"
  - "Failed Flows"
integrations: ['n8n', 'github', 'slack']
triggerNode: "Schedule Trigger"
featured: false
createdAt: 2025-09-21T23:13:31.000Z
---

## Purpose & Benefits

This advanced workflow provides a robust, automated backup and version control system for your n8n instance. It regularly connects to its own n8n API, retrieves all workflows, and backs them up to a designated GitHub repository. This ensures that every change to your workflows is tracked, providing a historical record and a powerful disaster recovery solution.

### Key Benefits:
* **Automated Version Control:** Automatically tracks changes to all workflows in a Git repository.
* **Disaster Recovery:** Easily restore workflows from GitHub in case of data loss or accidental deletion.
* **Streamlined Maintenance:** Reduces the manual effort required to back up and manage workflows.
* **Scalable Design:** The self-calling sub-workflow architecture is memory-efficient and can handle a large number of workflows.

---

## Trigger

This workflow has a dual trigger to support both automated and manual backups.

* **Schedule Trigger:** The workflow is configured to run on a set schedule, such as once every 24 hours.
* **Manual Trigger:** The `On clicking 'execute'` node allows for on-demand backups at any time.

## Workflow Steps & Logic

This is a complex, two-part workflow consisting of a main loop and a sub-workflow that it calls.

### Part 1: The Main Workflow
1.  **Start Notification:** The workflow begins by sending a "starting" message to a Slack channel to alert the team that the backup process is beginning.
2.  **Get Workflows:** The `n8n` node connects to its own API and retrieves a list of all active workflows on the instance.
3.  **Loop & Execute:** It then uses a `Loop Over Items` node to iterate through the list of workflows. For each workflow, it calls itself as a sub-workflow (`Execute Workflow`), passing the current workflow's data for processing. This is an efficient way to handle a large number of items without overwhelming the instance's memory.
4.  **Completion Notification:** Once the loop is finished, it sends a final "completed" message to Slack, including the total number of workflows processed.

### Part 2: The Sub-Workflow
The sub-workflow is where the core backup logic takes place. It runs once for each workflow item in the loop.
1.  **Check GitHub:** The sub-workflow checks your GitHub repository to see if a backup file for the current workflow already exists.
2.  **Compare and Determine Status:** A custom `isDiffOrNew` code node compares the existing GitHub file with the current workflow data. It determines if the file is `new`, `different` (changed since the last backup), or `same`.
3.  **Conditional Backup:** A `switch` node then routes the workflow based on the comparison result:
    * **Same:** The workflow ends without making any changes.
    * **Different:** The `Edit existing file` node uses the GitHub API to update the backup file with the new workflow data.
    * **New:** The `Create new file` node uses the GitHub API to create a new backup file for the workflow.
4.  **Return:** The sub-workflow ends, and control returns to the main workflow's loop, which then processes the next workflow item.

## Credentials Required

This automation requires the following credentials to be configured in your n8n instance:

* **n8n API:** An API key with access to your own n8n instance to list and retrieve workflow data.
* **GitHub API:** To authenticate with your GitHub account for creating and editing files in a repository.
* **Slack API:** To send notifications for the start, completion, and any failures in the backup process.

---


